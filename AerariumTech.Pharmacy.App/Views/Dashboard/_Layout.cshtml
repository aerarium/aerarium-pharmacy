@using AerariumTech.Pharmacy.App.Extensions
@inject UserManager<User> UserManager

@{
    Layout = null;
}

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>FarmNat - Dashboard</title>
    <link rel="stylesheet" type="text/css" href="~/dash/styles.css"/>
</head>

<body>
<div id="app">
    <div class="sidebar">
        <div class="top-row pl-4 navbar navbar-dark">
            <a class="navbar-brand" href="">FarmNat</a>
            <button class="navbar-toggler">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>

        <div class="collapsible">
            <ul class="nav flex-column">
                <li class="nav-item px-3">
                    <a class="nav-link active" asp-controller="Dashboard" asp-action="Index">
                        <span class="oi oi-home" aria-hidden="true"></span> Dashboard
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Categories" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Categories
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Customers" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Customers
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Employees" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Employees
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Products" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Products
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Sales" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Sales
                    </a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" asp-controller="Suppliers" asp-action="Index">
                        <span class="oi oi-list-rich" aria-hidden="true"></span> Suppliers
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main">
        <div class="top-row px-4">
            <a asp-controller="Manage" asp-action="Index" class="ml-md-auto">Hello, @UserManager.GetUserAsync(User).Await().Name!</a>
            <form asp-controller="Account" asp-action="Logout" method="post">
                <input type="submit" value="Log out"/>
            </form>
        </div>

        <div class="content px-4">
            @RenderBody()
        </div>
    </div>
</div>
    @RenderSection("Scripts", required: false)
    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
      var navBarTogglers = document.querySelectorAll('.navbar-toggler, .collapsible');
      Array.prototype.forEach.call(navBarTogglers, function (toggler) {
        toggler.addEventListener('click', function () {
          var els = document.getElementsByClassName('collapsible');
          Array.prototype.forEach.call(els, function (el) {
            el.classList.toggle('collapse');
          });
        });
      });
    });
    </script>
</body>

</html>